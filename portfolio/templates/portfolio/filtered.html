{% extends './base.html' %}
{% load static %}

{% block content %}
    <div class="search_header">
        <h1>List of My Projects </h1>
        <div class="filter_tag" style="background-color: {{ tag.color }};">
            # {{ tag.name }}
        </div>
    </div>
    <div class="button_container">
        {% for project in projects %}
            {% if project.visible or user.is_authenticated %}
                <div class="project_button_border">
                    <div class="project_button">
                        <div class="project_title">
                            <div class="title">{{ project.name }}</div>
                            {% if not user.is_authenticated %}
                                <a href="{{ project.url }}" target="_blank" rel="noopener noreferrer">
                                    <button type="button" class="image_button"> 
                                        <img src="{% static 'images/git-repo.png' %}" alt="GitHub" class="image"> 
                                    </button>
                                </a>
                            {% else %}
                                <a href="{% url 'admin:portfolio_project_change' project.id %}" target="_blank" rel="noopener noreferrer">
                                    <div class="edit_button">
                                        + 
                                    </div>
                                </a>
                                {% endif %}
                        </div>

                        <div class="project_description">
                            {{ project.description }}
                        </div>

                        <div class="project_tags">
                            {% for tag in project.tags.all %}
                                <div class="tag text-white px-2 border border-none rounded-full" style="background-color: {{ tag.color }};">
                                    # {{ tag.name }} 
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endblock %}
